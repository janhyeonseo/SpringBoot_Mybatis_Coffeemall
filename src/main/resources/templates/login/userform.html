<html xmlns:th="http://www.thymeleaf.org">
<body>
	<link href="/css/style_userform.css" rel="stylesheet" type="text/css" />
	<div th:replace="~{include/top}"></div>

	<script>
		function validatePassword() {
			const password = document.getElementById('password').value;
			const confirmPassword = document.getElementById('confirmPassword').value;
			const errorElement = document.getElementById('passwordError');

			// 비밀번호 일치 여부 확인
			if (password !== confirmPassword) {
				errorElement.textContent = "비밀번호가 일치하지 않습니다.";
				errorElement.style.color = "red";
				return false; // 폼 제출 방지
			} else {
				errorElement.textContent = ""; // 에러 메시지 제거
				return true; // 폼 제출 허용
			}
		}
	</script>

	<section>
		<br>
		<div class="form-container">
			<h1>회원가입</h1>
			<form name="signupForm" action="/login/userformOK" method="post" onsubmit="return validatePassword()">
				<!-- 로그인 정보 -->
				<fieldset>
					<legend>로그인 정보</legend>
					<div class="form-row">
						<label for="username">아이디</label>
						<input type="text" id="username" name="username" placeholder="6~16자 / 영문, 숫자 사용 가능" required />
					</div>
					<div class="form-row">
						<label for="password">비밀번호</label>
						<input type="password" id="password" name="password" placeholder="8~16자 / 문자, 숫자, 특수 문자 포함"
							required />
					</div>
					<div class="form-row">
						<label for="confirmPassword">비밀번호 확인</label>
						<input type="password" id="confirmPassword" name="confirmPassword" placeholder="비밀번호를 다시 입력해주세요"
							required />
					</div>
					<div class="form-row-error">
						<span id="passwordError" class="error-message"></span>
					</div>
				</fieldset>

				<!-- 회원 정보 -->
				<fieldset>
					<legend>회원 정보</legend>
					<div class="form-row">
						<label>회원 유형</label>
						<div class="role-select">
							<label>
								<input type="radio" name="role" value="ROLE_MEMBER" checked /> 회원
							</label>
							<label>
								<input type="radio" name="role" value="ROLE_ADMIN" /> 관리자
							</label>
						</div>
					</div>
					<div class="form-row">
						<label for="name">이름</label>
						<input type="text" id="name" name="name" placeholder="성함을 입력해주세요" required />
					</div>
					<div class="form-row">
						<label for="phone">휴대전화</label>
						<div class="phone-row">
							<input type="text" id="phone" name="phone" placeholder="010-xxxx-xxxx" required />
						</div>
					</div>
					<div class="form-row">
						<label for="email">이메일</label>
						<div class="email-row">
							<input type="email" id="email" name="email" placeholder="이메일을 입력해주세요" required />
						</div>
					</div>
				</fieldset>

				<!-- 가입 버튼 -->
				<div class="form-row">
					<button type="submit" class="btn-large">가입하기</button>
				</div>
			</form>
		</div>
		<br><br>
	</section>

	<div th:replace="~{include/bottom::footer}"></div>
</body>
</html>
